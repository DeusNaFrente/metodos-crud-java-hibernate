<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:p="http://primefaces.org/ui"
                template="/templates/template.xhtml"
                >




    <ui:define name="metadata">
        <f:metadata>


        </f:metadata>
    </ui:define>

    <ui:define name="conteudo">

        <h:head>

            <h:outputScript name="jquery.maskMoney.js" library="javascript" />

            <style>
                fieldset{
                    width: 1500px;
                    height: 900px;
                    border-width: 2px;
                    border-color: aliceblue;
                    border-radius: 10px 20px;
                }

                div.dataTables_wrapper {
                    width: 800px;
                    margin: 0 auto;
                }



                /*o bloco abaixo modifica a altura do content */
                .nav_tabs{
                    width: 1000px;
                    height: 200px;
                    margin: 100px auto;
                    background-color: #fff;
                    position: relative;
                }


                /* o bloco abaixo modifica o titulo */            
                .nav_tabs ul{

                    list-style: none;
                    margin: 0;
                    padding: 0;


                }

                .nav_tabs ul li{
                    /* float: left;*/
                    display: inline-block;
                    margin: 2px;

                }

                .nav_tabs label{
                    width: 100px;
                    padding: 5px;
                    background-color: darkgray;
                    display: block;
                    color: #fff;
                    cursor: pointer;
                    text-align: center;

                }



                /*os procedimentos aqui ocorrem ao clicar no item de titulo*/
                .rd_tabs:checked ~ label{

                    background-color: #f2673a;

                }

                .rd_tabs{
                    display: none;

                }

                .content{
                    /*    border-top: 5px solid #aaa; */
                    background-color: #fff;
                    display: none;
                    position: absolute;
                    height: 220px;
                    width: 600px;
                    left: 0;

                }


                .rd_tabs:checked ~ .content{
                    display: block;
                    background-color: white;

                }

                .content article{
                    padding: 20px;
                    margin: 4px;
                    padding: 4px;
                }

                .grid-radio td {
                    padding: .5rem;


                    .ui-datatable-frozenlayout-left {
                        width: 20%;
                    }

                    .ui-datatable-frozenlayout-right {
                        width: 80%;
                    }  

                    .grid-checkbox td {
                        padding: .5rem;

                    }


                </style>

                <p:messages><p:autoUpdate /></p:messages>

            </h:head> 
            <h:body>


                <h:panelGroup id="tudo">


                    <div  style="position: absolute;left: 1100px;top: 300px; text-align: left;">
                        <!--<h:panelGroup id="Vtt" >-->

                        <p>Valor Total do Orçamento:</p>
                        <p><p:inputText id="txtVtt" value="#{orcamentoMB.orcamento.valor}" class="valor" /></p>

                        <!--</h:panelGroup>-->

                    </div>


                    <fieldset>
                        <legend>Orçamentos</legend>


                        <h:form id = "dados">

                            <div style="position: absolute;left: 1150px;top: 850px; text-align: left;">

                                <p:commandButton value="Excluir" actionListener="#{orcamentoMB.excluir()}"  update=":tudo :txtVtt" style="height:30px;background-color: whitesmoke;font-size: 13px;"/>
                                <p:commandButton value="Salvar" actionListener="#{orcamentoMB.salvar()}" update=":dados" style="height:30px;background-color: whitesmoke;font-size: 13px;" />
                                <p:commandButton value="Novo Orçamento" actionListener="#{orcamentoMB.novo()}" update=":tudo :txtVtt" style="height:30px;background-color: whitesmoke;font-size: 13px;" />

                            </div>

                            <p style = "position:absolute;left: 200px;top: 1010px;">Tipo de Logística..:</p>

                            <p:commandLink oncomplete="PF('dlgTransporte').show();"  style="position: absolute;left: 840px;top: 1020px">
                                    <p:graphicImage title="Adicionar custo de Transporte" width="40px" height="40px" 
                                                    name="caminhaoe.png" library="imagens" />
                                </p:commandLink>

                                <p:commandLink oncomplete="PF('dlgCustoEntrega').show();"  style="position: absolute;left: 698px;top: 1018px">
                                    <p:graphicImage title="Adicionar custo de Entrega" width="40px" height="40px" 
                                                    name="delivery.png" library="imagens" />
                                </p:commandLink>

                                <p:commandLink oncomplete="PF('dlgCustoEquipe').show();"  style="position: absolute;left: 455px;top:1020px">
                                    <p:graphicImage title="Adicionar custo de Equipe" width="35px" height="35px" 
                                                    name="equipeorc.png" library="imagens" />
                                </p:commandLink>

                                <p:commandLink oncomplete="PF('dlgRetirada').show();"  style="position: absolute;left: 575px;top: 1010px">
                                    <p:graphicImage title="Configurar Retirada" width="40px" height="40px" 
                                                    name="guindaste.png" library="imagens" />
                                </p:commandLink>


                                <div class="card">

                                    <p:growl id="msg"/>


                                    <p:selectBooleanCheckbox value="#{orcamentoMB.orcamento.logtime}" 
                                                             style="position: absolute; left:425px; top: 1030px "/>
                                    <p style="position:absolute;left: 428px; top: 1050px">Equipe</p>

                                    <p:selectBooleanCheckbox value="#{orcamentoMB.orcamento.logretirada}" 
                                                             style="position: absolute; left:555px; top: 1030px" />
                                    <p style="position:absolute;left: 550px; top: 1050px">Retirada</p>

                                    <p:selectBooleanCheckbox value="#{orcamentoMB.orcamento.logentrega}" 
                                                             style="position: absolute; left:670px; top: 1030px"/>
                                    <p style="position:absolute;left: 670px; top: 1050px">Entrega</p>

                                    <p:selectBooleanCheckbox value="#{orcamentoMB.orcamento.logtransporte}" 
                                                             style="position: absolute; left:810px; top: 1030px"/>
                                    <p style="position:absolute;left: 800px; top: 1050px">Transporte</p>

                                </div>





                                <div style="position: absolute;left: 20px;top: 50px; text-align: left;">
                                <p>Empresa:</p>
                                <p:selectOneMenu value="#{orcamentoMB.orcamento.cliente}" >
                                    <f:selectItem itemLabel="Não definido" itemValue="#{null}" />
                                    <f:selectItems value="#{clienteMB.clientes}" var="c" itemLabel="#{c.empresa}" itemValue="#{c}"   />
                                    <p:ajax process="@this" />
                                </p:selectOneMenu>
                            </div>

                            <div style="position: absolute;left: 350px;top: 50px; text-align: left;">

                                <p>Vendedor:</p>
                                <p:selectOneMenu value="#{orcamentoMB.orcamento.vendedor}">
                                    <f:selectItem itemLabel="Não definido" itemValue="#{null}" />
                                    <f:selectItems value="#{vendedorMB.vendedores}" var="f" itemLabel="#{f.vendedor}" itemValue="#{f}"  />
                                    <p:ajax process="@this" />
                                </p:selectOneMenu>

                            </div>



                            <div style="position: absolute;left: 20px;top: 180px; text-align: left;">
                                <p>Contato:</p>
                                <p:selectOneMenu value="#{orcamentoMB.orcamento.contato}" >
                                    <f:selectItem itemLabel="Não definido" itemValue="#{null}" />
                                    <f:selectItems value="#{contatoMB.contatos}" var="g" itemLabel="#{g.contato}" itemValue="#{g}"  />
                                    <p:ajax process="@this" />
                                </p:selectOneMenu>
                            </div>



                            <div style="position: absolute;left: 350px;top: 180px; text-align: left;">
                                <p>Descrição do Orçamento:</p>
                                <p><p:inputTextarea value="#{orcamentoMB.orcamento.nomeorc}" style="font-size: 14px"/></p>

                                </div>






                                <div style="position: absolute;left: 700px;top: 180px; text-align: left;">
                                <p>Validade da proposta:</p>
                                <p><p:inputText value="#{orcamentoMB.orcamento.validade}" /></p>
                            </div>


                            <div style="position: absolute;left: 1100px;top: 180px; text-align: left;">
                                <p>Forma de Pgto:</p>
                                <p:selectOneMenu value="#{orcamentoMB.orcamento.formapgto}">
                                    <f:selectItem itemLabel="Não definido" itemValue="#{null}" />
                                    <f:selectItems value="#{formapgtoMB.formapgtos}" var="forma" itemLabel="#{forma.forma}" itemValue="#{forma}"  />
                                    <p:ajax process="@this" />
                                </p:selectOneMenu>
                            </div>


                            <div style="position: absolute;left: 20px;top: 300px; text-align: left;">
                                <p>Faturamento:</p>
                                <p:selectOneMenu value="#{orcamentoMB.orcamento.faturamento}" >
                                    <f:selectItem itemLabel="Não definido" itemValue="#{null}" />
                                    <f:selectItem itemLabel="NF Serviços" itemValue="NF Serviços"  />
                                    <f:selectItem itemLabel="Pré-faturado" itemValue="Pré-faturado"  />
                                    <f:selectItem itemLabel="NF Produtos" itemValue="NF Produtos"  />
                                    <f:selectItem itemLabel="NFCe" itemValue="NFCe"  />
                                    <f:selectItem itemLabel="NF Serviços" itemValue="NF Serviços"  />
                                    <f:selectItem itemLabel="NF Produtos/Serviços" itemValue="NF Produtos/Serviços"  />
                                    <p:ajax process="@this" />
                                </p:selectOneMenu>
                            </div>


                            <div style="position: absolute;left: 350px;top: 300px; text-align: left;">
                                <p>Condição de Pgto:</p>
                                <p:selectOneMenu value="#{orcamentoMB.orcamento.condpgto}">
                                    <f:selectItem itemLabel="Não definido" itemValue="#{null}" />
                                    <f:selectItems value="#{condpgtoMB.condpgtos}" var="j" itemLabel="#{j.condpgt}" itemValue="#{j}"  />
                                    <p:ajax process="@this" />
                                </p:selectOneMenu>
                            </div>

                            <div style="position: absolute;left: 780px;top: 300px; text-align: left;">
                                <p>Prazo de entrega:</p>
                                <p><p:inputText value="#{orcamentoMB.orcamento.prazoentrega}" /></p>
                            </div>
                            
                            
                             <div style="position: absolute;left: 1100px;top: 430px; text-align: left;">
                                <p>Situação:</p>
                                <p:selectOneMenu value="#{orcamentoMB.orcamento.situacao}" >
                                    <f:selectItem itemLabel="Não definido" itemValue="#{null}" />
                                    <f:selectItem itemLabel="Em andamento" itemValue="Em andamento"  />
                                    <f:selectItem itemLabel="Aprovado" itemValue="Aprovado"  />
                                    <f:selectItem itemLabel="Aprovado e finalizado" itemValue="Aprovado e finalizado"  />
                                    <f:selectItem itemLabel="Aprovado em andamento" itemValue="Aprovado em andamento"  />
                                    <p:ajax process="@this" />
                                </p:selectOneMenu>
                            </div>



                            <br/>  <br/>

                            <p:messages><p:autoUpdate/></p:messages>






                            <p:panelGrid columns="15" style="position: absolute;left: 580px;top: 45px; font-size: 12px;width: 50px;">
                                <!--Ícone de Adc. Empresas-->

                                <p:commandLink oncomplete="PF('dlgNovoE').show();" update="frmNovoE" >
                                    <p:graphicImage title="+ Adicionar empresa." width="30px" height="30px" 
                                                    name="empresa.png" library="imagens" />
                                </p:commandLink>
                                <p >+ Adc. Empresa</p>

                                <!--Ícone de Adc. Vendedor-->

                                <p:commandLink oncomplete="PF('dlgNovoV').show();" >
                                    <p:graphicImage title="+ Adicionar vendedor?" width="30px" height="30px" 
                                                    name="vendedor.png" library="imagens" />
                                </p:commandLink>
                                <p >+Adc. Vendedor</p>


                                <!--Ícone de Adc. Comissão-->

                                <p:commandLink oncomplete="PF('dlgComissionadosPai').show();" >
                                    <p:graphicImage title="Comissionados" width="35px" height="35px" 
                                                    name="comissionado.png" library="imagens" />

                                </p:commandLink>
                                <p >+Adc. Comissionados?</p>


                                <!--Ícone de Adc. Logística-->

                                <p:commandLink oncomplete="PF('dlgNovoL').show();" >
                                    <p:graphicImage title="Configurar a Logística." width="30px" height="30px" 
                                                    name="caixas.png" library="imagens" />
                                </p:commandLink>
                                <p >Cadastro de Logísticas</p>

                                <!--Ícone de Adc. Custos Variáveis-->

                                <p:commandLink oncomplete="PF('dlgCv').show();" >
                                    <p:graphicImage title="+ Adicionar Custo Variável?" width="30px" height="30px" 
                                                    name="cv.png" library="imagens" />
                                </p:commandLink>
                                <p >Cad. Custo Variável</p>

                                <p:commandLink oncomplete="PF('dlgComissionado').show();" >
                                    <p:graphicImage title="Adicionar comissionados." width="30px" height="30px" 
                                                    name="comissao.png" library="imagens" />
                                </p:commandLink>
                                <p >Adc. Comissão</p>

                                <p:commandLink oncomplete="PF('dlgCustoVariavel').show();" >
                                    <p:graphicImage title="Custo Variável." width="30px" height="30px" 
                                                    name="despesas.png" library="imagens" />
                                </p:commandLink>
                                <p >Adc. Custo Variável</p>



                            </p:panelGrid>




                        </h:form>


                        <h:form id ="tabelas">

                            <div style="position: absolute;left: 30px;top: 500px; text-align: left;">

                                <p:panel id="pnl" header="Orçamentos:">
                                    <p:dataTable  style="font-size: 14px;width: 300px" value="#{orcamentoMB.orcamentos}" var="pr" emptyMessage="Nenhum orçamento cadastrado!"
                                                  paginator="true" rows="2" selectionMode="single" selection="#{orcamentoMB.orcamento}" rowKey="#{pr.id}">
                                            <p:ajax event="rowSelect" update=":txtVtt  :tudo :tabelaCustoEquipe" listener="#{orcamentoMB.editar()}" />


                                            <p:column headerText="Empresa1:" filterBy="#{pr.cliente.empresa}">
                                                <h:outputText value="#{pr.cliente.empresa}"/>
                                            </p:column>

                                            <p:column headerText="Trabalho a ser feito:">
                                                <h:outputText value="#{pr.nomeorc}"/>
                                            </p:column>




                                        </p:dataTable>
                                    </p:panel>
                                    <p:draggable for="pnl"/>

                                </div>

                                <br></br><br></br>
                                <br></br><br></br>
                                <br></br><br></br>
                                <br></br><br></br>

                                <br></br><br></br>
                                <br></br><br></br>
                                <br></br><br></br>
                                <br></br><br></br>

                                <br></br><br></br>
                                <br></br><br></br>
                                <br></br><br></br>
                                <br></br><br></br>

                                <br></br><br></br>
                                <br></br><br></br>
                                <br></br><br></br>
                                <br></br><br></br>









                                <!-- Tabela de Produtos -->



                                <div style="position: absolute;left: 5px;top: 1730px; text-align: left;">

                                <p:outputLabel>Tabela de Produtos:</p:outputLabel> 
                                <p:separator />
                                
                                <p:dataTable id="tbProd" style="font-size: 14px;" value="#{productMB.products}"
                                     var="prdt" emptyMessage="Nenhum produto cadastrado!" paginator="true" rows="3" >

                                        <p:column headerText="Produto" filterBy="#{prdt.nome}" >
                                            <h:outputText value="#{prdt.nome}" style="font-size: 12px" />
                                        </p:column>

                                        <p:column headerText="Preço"  >
                                            <h:outputText value="#{prdt.precofinal}" style="font-size: 12px" />
                                        </p:column>

                                        <p:column headerText="Opções" width="100">



                                            <p:commandButton icon="ui-icon-plus" 
                                                             actionListener="#{orcamentoMB.adicionarProduto(prdt)}"

                                                             update=":tabelas:tbOrc :txtVtt" 
                                                             >
                                            </p:commandButton> 

                                        </p:column>




                                    </p:dataTable>


                                </div>

                                <!--Tabela de Composição do Orçamento-->

                                <div style="position: absolute;left: 5px;top: 2000px; text-align: left;">



                                <br/><br/><br/>
                                <p:outputLabel>Compor Orçamento</p:outputLabel>

                                <p:separator />

                                <p>Itens do orçamento:</p>
                                <p:dataTable  id="tbOrc" value="#{orcamentoMB.orcamento.itens}" 
                                              var="tc" style="font-size: 14px" emptyMessage="Sem retorno!" >


                                                  <p:column headerText="Produto" style="font-size: 15px;" width="200" >
                                                  <h:outputText value="#{tc.product.nome}"/>  
                                              </p:column>

                                            
                                              <p:column headerText="Qtd" width="60">
                                                  <h:outputText value="#{tc.qtd}" />
                                              </p:column>

                                              <p:column headerText="Excluir" width="60">

                                                  <p:commandButton icon="ui-icon-close" 
                                                                   actionListener="#{orcamentoMB.removerItem(tc)}"
                                                                   update=":tabelas:tbOrc :txtVtt"
                                                                   >
                                                      <p:confirm  header="CONFIRMAR" 
                                                                  message="Quer mesmo apagar?" icon="pi pi-info-circle"/>
                                                  </p:commandButton>

                                              </p:column>

                                </p:dataTable>



                            </div>




                            <br></br><br></br>
                            <br></br><br></br>
                            <br></br><br></br>
                            <br></br><br></br>

                            <!--CONJUNTO DE MODELOS-->



                            <div style="position: absolute;left: 410px;top: 560px; text-align: left">




                                    <p:panel id="pn2" header="Produtos do orçamento:">
                                        <p:dataTable value="#{orcamentoMB.orcamento.itens}" 
                                                     paginator="true" rows="2" var="orc" style="font-size: 14px;width: 300px" emptyMessage="Sem retorno!" >


                                            <p:column headerText="Produto" width="60">

                                                <h:outputText value="#{orc.product.nome}" style="font-size: 12px"/>

                                            </p:column>

                                            <p:column headerText="Qtd" width="60">

                                                <h:outputText value="#{orc.qtd}" style="font-size: 12px"/>

                                            </p:column>




                                        </p:dataTable>
                                    </p:panel>
                                    <p:draggable for="pn2"/>





                                </div>


                                <div style="position: absolute;left: 790px;top: 560px; text-align: left">




                                    <p:panel id="pn3" header="Comissões:">
                                        <p:dataTable id="tbIc" value="#{orcamentoMB.orcamento.itensC}"   
                                                     paginator="true" rows="2" var="comissionado" style="font-size: 14px;width: 300px" emptyMessage="Sem retorno!" >


                                            <p:column headerText="Produto" width="60">

                                                <h:outputText value="#{comissionado.comissionado.nome}" style="font-size: 12px"/>

                                            </p:column>

                                            <p:column headerText="Valor" width="60">

                                                <h:outputText value="#{comissionado.comissionado.valor}" style="font-size: 12px"/>

                                            </p:column>

                                            <p:column headerText="Excluir" width="60">

                                                <p:commandButton icon="ui-icon-close" 
                                                                 actionListener="#{orcamentoMB.removerItemComissionado(comissionado)}" 
                                                                 update=":tabelas:tbIc :frmItensCom :txtVtt"
                                                                 >
                                                    <p:confirm  header="CONFIRMAR" 
                                                                message="Quer mesmo apagar?" icon="pi pi-info-circle"/>
                                                </p:commandButton>

                                            </p:column>


                                        </p:dataTable>
                                    </p:panel>
                                    <p:draggable for="pn3"/>





                                </div>

                                <div style="position: absolute;left: 1160px;top: 560px; text-align: left">




                                    <p:panel id="pn4" header="Custo Variável:">
                                        <p:dataTable  id="tbCvar" value="#{orcamentoMB.orcamento.itensCustoVariavel}"   
                                                      paginator="true" rows="5" var="custov" style="font-size: 14px;width: 300px" emptyMessage="Sem retorno!" >


                                            <p:column headerText="Despesa" width="60">

                                                <h:outputText value="#{custov.custovariavel.descricao}" style="font-size: 12px"/>

                                            </p:column>

                                            <p:column headerText="Valor" width="60">

                                                <h:outputText value="#{custov.custovariavel.valor}" style="font-size: 12px"/>

                                            </p:column>

                                            <p:column headerText="Excluir" width="60">

                                                <p:commandButton icon="ui-icon-close" 
                                                                 actionListener="#{orcamentoMB.removerItemCustoVariavel(custov)}" 
                                                                 update=":tabelas:tbCvar :txtVtt :frmItensCv"
                                                                 >
                                                    <p:confirm  header="CONFIRMAR" 
                                                                message="Quer mesmo apagar?" icon="pi pi-info-circle"/>
                                                </p:commandButton>

                                            </p:column>



                                        </p:dataTable>
                                    </p:panel>
                                    <p:draggable for="pn4"/>





                                </div>


                                <div style="position: absolute;left: 800px;top: 1470px; text-align: left">




                                    <p:panel id="pn7" header="Transporte:">
                                        <p:dataTable  id="tbTransp" value="#{orcamentoMB.orcamento.itensT}" 
                                                      paginator ="true" rows="3"
                                                      var="transp" style="font-size: 14px; width: 680px;" emptyMessage="Sem retorno!">

                                        <p:column headerText="Custo de Transporte" style="font-size: 12px;" >
                                            <h:outputText value="#{transp.transporte.custotransporte}"/>  
                                        </p:column>

                                        <p:column headerText="Data do envio" >
                                            <h:outputText value="#{transp.transporte.dtransp}">
                                                <f:convertDateTime pattern="dd/MM/yyyy" />
                                            </h:outputText>
                                        </p:column>



                                        <p:column headerText="Custo de Correio" style="font-size: 12px;" >
                                            <h:outputText value="#{transp.transporte.custocorreio}"/>  
                                        </p:column>



                                        <p:column headerText="Data do envio" >
                                            <h:outputText value="#{transp.transporte.dtenvio}">
                                                <f:convertDateTime pattern="dd/MM/yyyy" />
                                            </h:outputText>
                                        </p:column>

                                        <p:column headerText="Excluir" width="50">



                                            <p:commandButton icon="ui-icon-close" 
                                                             actionListener="#{orcamentoMB.removerItemTransporte(transp)}"
                                                             update=":tabelas:tbTransp :tudo"


                                                             >

                                                <p:confirm  header="CONFIRMAR" 
                                                            message="Quer mesmo apagar?" icon="pi pi-info-circle"/>
                                            </p:commandButton> 

                                        </p:column>



                                    </p:dataTable>
                                </p:panel>
                                <p:draggable for="pn7"/>





                            </div>





                            <div style="position: absolute;left: 20px;top: 1230px; text-align: left">




                                    <p:panel id="pn5" header="Entrega:">
                                        <p:dataTable  id="tbTranspo" value="#{orcamentoMB.orcamento.itensE}" 
                                                      paginator ="true" rows="3"
                                                      var="ent" style="font-size: 14px; width: 680px;" emptyMessage="Sem retorno!">

                                        <p:column headerText="Despesa" style="font-size: 12px;" >
                                            <h:outputText value="#{ent.entrega.despesa}"/>  
                                        </p:column>

                                        <p:column headerText="Data do envio" >
                                            <h:outputText value="#{ent.entrega.dia}">
                                                <f:convertDateTime pattern="dd/MM/yyyy" />
                                            </h:outputText>
                                        </p:column>





                                        <p:column headerText="Excluir" width="50">



                                            <p:commandButton icon="ui-icon-close" 
                                                             actionListener="#{orcamentoMB.removerItemEntrega(ent)}"
                                                             update=":tabelas:tbTranspo :tudo :frmEnt:tbEnt"


                                                             >

                                                <p:confirm  header="CONFIRMAR" 
                                                            message="Quer mesmo apagar?" icon="pi pi-info-circle"/>
                                            </p:commandButton> 

                                        </p:column>



                                    </p:dataTable>
                                </p:panel>
                                <p:draggable for="pn5"/>





                            </div>

                            <div style="position: absolute;left: 800px;top: 1230px; text-align: left">

                                    <p:panel id="pn9" header="Retirada:">

                                        <p:dataTable  id="tbOrcRetirando" value="#{orcamentoMB.orcamento.itensRetira}" 
                                                      paginator ="true" rows="3"
                                                      var="retirando" style="font-size: 14px; width: 680px;" emptyMessage="Sem retorno!">



                                        <p:column headerText="Data de retirada" >
                                            <h:outputText value="#{retirando.logretirada.dia}">
                                                <f:convertDateTime pattern="dd/MM/yyyy" />
                                            </h:outputText>
                                        </p:column>


                                        <p:column headerText="Prazo" style="font-size: 12px;" >
                                            <h:outputText value="#{retirando.logretirada.prazo}"/>  
                                        </p:column>

                                        <p:column headerText="Excluir" width="50">

                                            <p:commandButton icon="ui-icon-close" 
                                                             actionListener="#{orcamentoMB.removerItemRetirada(retirando)}" 
                                                             update=":tabelas:tbOrcRetirando :tudo :frmCretirar">
                                            </p:commandButton> 


                                        </p:column>



                                    </p:dataTable>
                                    <p:draggable for="pn9"/>

                                </p:panel>

                            </div>


                            <div style="position: absolute;left: 20px;top: 1470px; text-align: left">




                                    <p:panel id="pn10" header="Equipe1:">

                                        <p:dataTable  id="tbEquipes" value="#{orcamentoMB.orcamento.itensTime}" 
                                                      paginator ="true" rows="3"
                                                      var="eqp" style="font-size: 14px; width: 680px;" emptyMessage="Sem retorno!">

                                        <p:column headerText="Nome" style="font-size: 12px;" >
                                            <h:outputText value="#{eqp.logequipe.nome}"/>  
                                        </p:column>

                                        <p:column headerText="Agendamento" >
                                            <h:outputText value="#{eqp.logequipe.dia}">
                                                <f:convertDateTime pattern="dd/MM/yyyy" />
                                            </h:outputText>
                                        </p:column>

                                        <p:column headerText="Valor" style="font-size: 12px;" >
                                            <h:outputText value="#{eqp.logequipe.valor}"/>  
                                        </p:column>





                                        <p:column headerText="Excluir" width="50">



                                            <p:commandButton icon="ui-icon-close" 
                                                             actionListener="#{orcamentoMB.removerItemLogequipe(eqp)}"
                                                             update=":tabelas:tbEquipes :dados :tabelaCustoEquipe :txtVtt" >

                                            </p:commandButton> 

                                        </p:column>



                                    </p:dataTable>

                                </p:panel>
                                <p:draggable for="pn10"/>





                            </div>

                        </h:form>

                    </fieldset>











                    <!-- Dlg novo Vendedor-->


                    <p:dialog widgetVar="dlgNovoV"  showEffect="explode" hideEffect="explode" draggable="true" closable="true" resizable="false"
                              header="Controle de Vendedores.:" modal="true" appendTo="@(body)" width="800px">
                        <h:form id="frmNovoV">

                            <p:panelGrid columns="4">
                                <p>Nome:</p>
                                <p><p:inputText value="#{vendedorMB.vendedor.vendedor}" style="font-size: 14px" /></p>

                                    <p>Whatsapp:</p>
                                    <p><p:inputText value="#{vendedorMB.vendedor.whatsapp}" style="font-size: 14px"/></p>

                                    <p>E-mail:</p>
                                    <p><p:inputText value="#{vendedorMB.vendedor.email}" style="font-size: 14px"/></p>
                                </p:panelGrid>


                                <div style="position: absolute;left: 450px;top: 90px; text-align: left;">
                                <p:commandButton icon="plus" value="Novo" actionListener="#{vendedorMB.novo()}" update=":frmNovoV" style="height:30px;background-color: whitesmoke;font-size: 10px;" />
                                <p:commandButton value="Salvar" actionListener="#{vendedorMB.salvar()}"  
                                                 style="height:30px;background-color: whitesmoke;font-size: 10px;" update=":frmNovoV :frmEditaV:tbV :tudo :txtVtt"/>
                                <p:commandButton value="Excluir" actionListener="#{vendedorMB.excluir()}" rendered="#{vendedorMB.vendedor.id ne 0}" update=":frmNovoV :frmEditaV:tbV :txtVtt" style="height:30px;background-color: whitesmoke;font-size: 10px;"/>
                            </div>

                        </h:form>



                        <h:form id="frmEditaV"><br/>

                            <p:dataTable id="tbV" style="font-size: 14px;" reflow="true" paginator="true" rows="8" value="#{vendedorMB.vendedores}" var="c" emptyMessage="Sem retorno!" selectionMode="single" selection="#{vendedorMB.vendedor}" rowKey="#{c.id}">
                                <p:ajax event="rowSelect" update=":frmNovoV" listener="#{vendedorMB.editar()}" />


                                <p:column headerText="Vendedor" width="50" filterBy="#{c.vendedor}">
                                    <h:outputText value="#{c.vendedor}" style="font-size: 12px;" />
                                </p:column>

                                <p:column headerText="Whatsapp" width="50">
                                    <h:outputText value="#{c.whatsapp}" style="font-size: 12px;"/>
                                </p:column>

                                <p:column headerText="E-mail" width="50">
                                    <h:outputText value="#{c.email}" style="font-size: 12px;"/>
                                </p:column>


                            </p:dataTable>



                        </h:form>





                    </p:dialog>





                    <!-- Dlg nova Empresa-->


                    <p:dialog widgetVar="dlgNovoE"  showEffect="explode" hideEffect="explode" draggable="true" closable="true" resizable="false"
                              header="Controle de Empresas.:" modal="true" appendTo="@(body)" width="1000px">
                        <h:form id="frmNovoE">

                            <p:panelGrid columns="6">
                                <p>Empresa:</p>
                                <p><p:inputText value="#{clienteMB.cliente.empresa}" style="font-size: 14px" /></p>

                                    <p>CNPJ ou CPF:</p>
                                    <p><p:inputText value="#{clienteMB.cliente.cnpj}" style="font-size: 14px" /></p>


                                    <p>Contato:</p>
                                    <p><p:inputText value="#{clienteMB.cliente.contato}" style="font-size: 14px"/></p>

                                    <p>Telefone:</p>
                                    <p><p:inputText value="#{clienteMB.cliente.telefone}" style="font-size: 14px"/></p>

                                    <p>E-mail:</p>
                                    <p><p:inputText value="#{clienteMB.cliente.email}" style="font-size: 14px"/></p>

                                </p:panelGrid>

                                <div style="position: absolute;left: 780px;top: 150px; text-align: left;">
                                <p:commandButton icon="plus" value="Novo" actionListener="#{clienteMB.novo()}" update=":frmNovoE" style="height:30px;background-color: whitesmoke;font-size: 10px;" />
                                <p:commandButton value="Salvar" actionListener="#{clienteMB.salvar()}"  
                                                 style="height:30px;background-color: whitesmoke;font-size: 10px;" update=":frmEditaE:tbE :tudo"/>
                                <p:commandButton value="Excluir" actionListener="#{clienteMB.excluir()}" rendered="#{clienteMB.cliente.id ne 0}" update=":frmEditaE:tbE" style="height:30px;background-color: whitesmoke;font-size: 10px;"/>
                            </div>

                        </h:form>



                        <h:form id="frmEditaE"><br/>

                            <p:dataTable id="tbE" style="font-size: 14px;" reflow="true" paginator="true" 
                                         rows="8" value="#{clienteMB.clientes}" var="cli" emptyMessage="Sem retorno!" 
                                         selectionMode="single" selection="#{clienteMB.cliente}" rowKey="#{cli.id}">

                                <p:ajax event="rowSelect" update=":frmNovoE" listener="#{clienteMB.editar()}" />


                                <p:column headerText="Empresa" width="50">
                                    <h:outputText value="#{cli.empresa}" style="font-size: 12px;" />
                                </p:column>

                                <p:column headerText="Contato" width="50">
                                    <h:outputText value="#{cli.contato}" style="font-size: 12px;"/>
                                </p:column>

                                <p:column headerText="E-mail" width="50">
                                    <h:outputText value="#{cli.email}" style="font-size: 12px;"/>
                                </p:column>

                                <p:column headerText="CNPJ" width="50" filterBy="#{c.cnpj}">
                                    <h:outputText value="#{cli.cnpj}" style="font-size: 12px;"/>
                                </p:column>

                            </p:dataTable>



                        </h:form>





                    </p:dialog>



                    <!-- Dlg Modelo de logística-->


                    <p:dialog widgetVar="dlgNovoL"  showEffect="explode" hideEffect="explode" draggable="false"  closable="true" resizable="false"
                              header="Modelo de Logística.:" modal="true" appendTo="@(body)" width="300px" height="80" >


                        <p:commandLink  update =":frmTransporte" style="position: absolute;left: 225px;top: 15px;height:30px;"  
                                        oncomplete="PF('dlgNt').show();">
                            <p:graphicImage title="Cadastrar Trasnporte." width="50px" height="50px" 
                                            name="caminhao.png" library="imagens" />
                        </p:commandLink>


                        <p:commandLink  update =":tudoE" style="position: absolute;left: 150px;top: 15px;height:30px;"  
                                        oncomplete="PF('dlgEntrega').show();">
                            <p:graphicImage title="Cadastrar Entrega." width="50px" height="50px" 
                                            name="entregamoto.jpg" library="imagens" />
                        </p:commandLink>

                        <p:commandLink   style="position: absolute;left: 30px;top: 20px;height:30px;"  
                                         oncomplete="PF('dlgTime').show();">
                            <p:graphicImage title="Configurar o Time." width="35px" height="35px" 
                                            name="time.png" library="imagens" />
                        </p:commandLink>

                        <p:commandLink   style="position: absolute;left: 97px;top: 20px;height:30px;"  
                                         oncomplete="PF('dlgCadRetirada').show();">
                            <p:graphicImage title="Cadastrar Retirada." width="33px" height="33px" 
                                            name="retirando.png" library="imagens" />
                        </p:commandLink>

                    </p:dialog>


                    <!-- Dlg Gerenciar Time-->


                    <p:dialog widgetVar="dlgTime"  showEffect="explode" hideEffect="explode" draggable="true" closable="true" resizable="false"
                              header="Gerenciar time01.:" modal="true" appendTo="@(body)" width="1600px" height="750" >


                        <h:panelGroup id="tudoB">




                            <h:form id="tb1">

                                <div style="position: absolute;left: 1450px;top: 5px; text-align: left;">

                                    <p:commandButton value="Teste salvando" 
                                                     update=":tabelaCustoEquipe:tbOrcTimes :tabelaCustoEquipe:tbO 
                                                     :dados :tabelas:tbEquipes :txtVtt" 
                                                      actionListener="#{logequipeMB.salvando()}"
                                                     style="height:30px;background-color: whitesmoke;font-size: 13px;"/>

                                </div>

                                <div  style="position: absolute;left: 20px;top: 160px; text-align: left;">

                                    <p>Valor Total da Logística de Equipe:</p>
                                    <p><p:inputText id="Vt" value="#{logequipeMB.logequipe.valor}" /></p>

                                </div>



                                <div style="position: absolute;left: 1300px;top: 680px; text-align: left;">
                                    <p:commandButton value="Excluir" actionListener="#{orcamentoMB.excluirGeralEquipe()}" 
                                                     update=":tb1 :tb2 :tb3 :tb4" 
                                                     style="height:30px;background-color: whitesmoke;font-size: 13px;"/>

                                    <p:commandButton value="Salvar" actionListener="#{logequipeMB.salvar()}" update=":tudoB" style="height:30px;background-color: whitesmoke;font-size: 13px;" />
                                    <p:commandButton value="Novo" actionListener="#{logequipeMB.novo()}" update=":tudoB" style="height:30px;background-color: whitesmoke;font-size: 13px;" />

                                </div>



                                <div id="nome" style="position: absolute;left: 20px;top: 50px; text-align: left;">
                                    <p>Nome da Equipe:</p>
                                    <p><p:inputText value="#{logequipeMB.logequipe.nome}" size="20"/></p>
                                </div>

                                <div style="position: absolute;left: 320px;top: 50px; text-align: left;">
                                    <p>Data:</p>
                                    <p><p:calendar value="#{logequipeMB.logequipe.dia}" placeholder="Data" mask="true" size="10" pattern="dd/MM/yyyy" validatorMessage="Data inválida" showOn="button" /></p>
                                </div>

                                <div style="position: absolute;left: 580px;top: 85px; text-align: left;">

                                    <p:outputLabel class="titulo">Horário de Instalação</p:outputLabel>
                                    <br/>
                                    <p:calendar pattern="HH:mm" timeOnly="true" type="time" value="#{logequipeMB.logequipe.horainstal}" />
                                </div>

                                <div style="position: absolute;left: 800px;top: 65px; text-align: left;">
                                    <p>Tempo de execução:</p>
                                    <br/>
                                    <p:calendar pattern="HH:mm" timeOnly="true" type="time" value="#{logequipeMB.logequipe.tempoexec}" />
                                </div>






                                <br/>  <br/>

                                <p:messages><p:autoUpdate/></p:messages>





                                <div style="position: absolute;left: 600px;top: 350px; text-align: left;">

                                    <p:panel id="pn1" header="Controle de Colaboradores:">

                                        <p:separator />


                                        <p:dataTable id="tb01" style ="font-size: 14px; width: 400px" paginator ="true" rows ="3"
                                                     value="#{logequipeMB.listaColaborador}" 
                                                     var="a" emptyMessage="Sem retorno!" >


                                                <p:column headerText="Nome" >
                                                    <h:outputText value="#{a.colaborador}" style="font-size: 12px"/>
                                                </p:column>


                                                <p:column headerText="Função" >
                                                    <h:outputText value="#{a.profissao}" style="font-size: 12px"/>
                                                </p:column>

                                                <p:column headerText="Valor Hora" >
                                                    <h:outputText value="#{a.valorhsutil}" style="font-size: 12px"/>
                                                </p:column>



                                                <p:column headerText="Opções" width="100">



                                                    <p:commandButton icon="ui-icon-plus" 
                                                                     actionListener="#{logequipeMB.adicionar(a)}"

                                                                     update=":tb2 :tb3 :tudoB :tb1:Vt" 
                                                                     >
                                                    </p:commandButton>

                                                </p:column>




                                            </p:dataTable>

                                        </p:panel>
                                        <p:draggable for="pn1"/>


                                    </div>
                                </h:form>

                                <div style="position: absolute;left: 1150px;top: 400px; text-align: left">

                                    <h:form id="tb2">
                                        <p:panel id="pn2" header="Configurar Time:">
                                            <p:separator />

                                            <p:dataTable  id="tb02"  value="#{logequipeMB.logequipe.itens}"  
                                                          var="b" style="font-size: 14px;width: 350px" emptyMessage="Sem retorno!" >


                                                <p:column headerText="Nome:">

                                                    <h:outputText value="#{b.colaborador.colaborador}" style="font-size: 12px"/>

                                                </p:column>
                                                <p:column headerText="Função:">

                                                    <h:outputText value="#{b.colaborador.profissao}" style="font-size: 12px"/>

                                                </p:column>

                                                <p:column headerText="Qtd de horas" style="font-size: 12px;" >
                                                <h:outputText value="#{b.qtd}"/> 
                                            </p:column>

                                            <p:column headerText="Valor Hora" style="font-size: 12px;" >
                                                <h:outputText value="#{b.valor_parcial}"/> 
                                            </p:column>

                                            <p:column headerText="Excluir" width="60">
                                                <p:commandButton icon="ui-icon-close" 
                                                                 actionListener="#{logequipeMB.removerItemColaborador(b)}"
                                                                 update=":tb1 :tb2 :tb3"
                                                                 >

                                                </p:commandButton>

                                            </p:column>

                                            <f:facet name="footer">




                                            </f:facet>

                                        </p:dataTable>

                                    </p:panel>
                                    <p:draggable for="pn2"/>

                                </h:form>


                            </div>




                            <div style="position: absolute;left: 1100px;top: 100px; text-align: left;">
                                <h:form id="tb3">
                                    <p:panel id="pn3" header="Colaboradores deste Time:">

                                        <p:separator />

                                        <p:dataTable  id="tb03" value="#{logequipeMB.logequipe.itens}" 
                                                      var="c" style="font-size: 14px; width: 400px" emptyMessage="Sem retorno!"
                                                          rowKey="#{equipe.id}"  >



                                                          <p:column headerText="Nome" style="font-size: 12px;" >
                                                          <h:outputText value="#{c.colaborador.colaborador}"/>  
                                                      </p:column>

                                                      <p:column headerText="Total de horas" style="font-size: 12px;" >
                                                          <h:outputText value="#{c.qtd}"/>  
                                                      </p:column>

                                                      <p:column headerText="Valor das horas" style="font-size: 12px;" >
                                                          <h:outputText value="#{c.valor_parcial}"/>  
                                                      </p:column>

                                                      <p:column headerText="Excluir" width="60">

                                                          <p:commandButton icon="ui-icon-close" 
                                                                           actionListener="#{logequipeMB.removerItemColaborador(c)}" 
                                                                           update =":tb3:tb03 :tb2:tb02 :tb1:Vt"
                                                                           >

                                                          </p:commandButton>

                                                      </p:column>

                                        </p:dataTable>


                                    </p:panel>

                                    <p:draggable for="pn3"/>
                                </h:form>
                            </div>






                            <div style="position: absolute;left: 30px;top: 350px; text-align: left;">
                                <h:form id="tb4">
                                    <p:panel id="pn4" header="Editar Equipe3:">

                                        <p:separator />

                                        <p>Equipes:</p>

                                        <p:dataTable  id="tb04" value="#{logequipeMB.listaEquipe}"  paginator="true" rows="3"
                                                      var="equipe" style="font-size: 14px; width: 400px" emptyMessage="Sem retorno!"
                                                          selectionMode="single" selection="#{logequipeMB.logequipe}" rowKey="#{equipe.id}"  >
                                                          <p:ajax event="rowSelect" update=":tudoB"  listener="#{logequipeMB.editar()}"  />


                                                          <p:column headerText="Id" style="font-size: 12px;" >
                                                          <h:outputText value="#{equipe.id}"/>  
                                                      </p:column>

                                                      <p:column headerText="Nome" style="font-size: 12px;" >
                                                          <h:outputText value="#{equipe.nome}"/>  
                                                      </p:column>



                                        </p:dataTable>

                                    </p:panel>
                                    <p:draggable for="pn4"/>
                                </h:form>
                            </div>



                        </h:panelGroup>


                    </p:dialog>




                    <!-- Dlg Comissionados-->

                    <p:dialog widgetVar="dlgComissionadosPai"  showEffect="explode" hideEffect="explode" draggable="true" closable="true" resizable="false"
                              header="Controle de Comissionados.:" modal="true" appendTo="@(body)" width="1250px" height="750" >


                        <h:panelGroup id="tudoComissao">

                            <fieldset style="width: 1150px; height: 500px">

                                    <h:form>
                                        <div style="position: absolute; left: 30px; top: 50px">

                                            <p>Nome do comissionado:</p>
                                            <p><p:inputText value="#{comissionadoMB.comissionado.nome}"/></p>
                                            <br/>
                                        </div>

                                        <div style="position: absolute; left: 320px; top: 50px">

                                            <p>Empresa:</p>
                                            <p><p:inputText value="#{comissionadoMB.comissionado.empresa}"/></p>
                                            <br/>
                                        </div>

                                        <div style="position: absolute; left: 600px; top: 50px">

                                            <p>Contato:</p>
                                            <p><p:inputText value="#{comissionadoMB.comissionado.contato}"/></p>
                                            <br/>
                                        </div>

                                        <div style="position: absolute; left: 900px; top: 50px">

                                            <p>Telefone:</p>
                                            <p><p:inputText value="#{comissionadoMB.comissionado.telefone}"/></p>
                                            <br/>
                                        </div>



                                        <div style="position: absolute;left: 30px;top: 200px; text-align: left">

                                            <p>Tipo de Pagamento:</p>
                                            <p:selectOneRadio id="console" value="#{comissionadoMB.comissionado.tipopgt}" unselectable="true">
                                                <f:selectItem itemLabel="Percentual" itemValue="Percentual"/>
                                                <f:selectItem itemLabel="Valor Fixo" itemValue="Valor Fixo"/>
                                            </p:selectOneRadio>


                                        </div>


                                        <div style="position: absolute;left: 320px;top: 200px; text-align: left">

                                            <p>Valor Fixo:</p>
                                            <p:inputText value="#{comissionadoMB.comissionado.valorfixo}"  size="15"/>

                                        </div>


                                        <div style="position: absolute;left: 600px;top: 200px; text-align: left">
                                            <p>Status:</p>
                                            <p><p:selectOneMenu value="#{comissionadoMB.comissionado.status}" >
                                                    <f:selectItem itemLabel="Pendente" itemValue="Pendente" />
                                                    <f:selectItem itemLabel="Descartado" itemValue="Descartado" />
                                                    <p:ajax process="@this" />
                                                </p:selectOneMenu></p>


                                        </div>


                                        <div style="position: absolute;left: 900px;top: 200px; text-align: left">
                                            <p>Regra de comissão:</p>
                                            <p><p:selectOneMenu value="#{comissionadoMB.comissionado.regraComissao}" >
                                                    <f:selectItem itemLabel="Regra Interna" itemValue="Regra Interna" />
                                                    <f:selectItem itemLabel="Regra Representante" itemValue="Regra Representante" />
                                                    <f:selectItem itemLabel="Regra Agência" itemValue="Regra Agência" />
                                                    <p:ajax process="@this" />
                                                </p:selectOneMenu></p>
                                        </div>



                                        <div style="position: absolute;left: 30px;top: 300px; text-align: left">
                                            <p>Obs:</p>
                                            <p><p:inputTextarea value="#{comissionadoMB.comissionado.obs}" style="font-size: 14px"/></p>

                                        </div>


                                        <div style="position: absolute;left: 360px;top: 320px; text-align: left">

                                            <p>Valor:</p>
                                            <p:inputText value="#{comissionadoMB.comissionado.valor}"  size="20"/>


                                        </div>

                                        <div style="position:absolute;left: 900px;top: 450px ">

                                            <p:commandButton icon="ui-icon-plus" value="Novo" actionListener="#{comissionadoMB.novo()}" update=":tudoComissao" style="height:30px;background-color: whitesmoke;font-size: 12px;" />
                                        <p:commandButton icon="ui-icon-trash" value="Excluir" actionListener="#{orcamentoMB.excluirGeralComissionado()}" update=":tudoComissao :tabelas:tbIc :frmCo:frmcOm" style="height:30px;background-color: whitesmoke;font-size: 12px;"/>
                                        <p:commandButton icon="ui-icon-plus" value="Salvar" actionListener="#{comissionadoMB.salvar()}" update=":tudoComissao :frmCo:frmcOm" style="height:30px;background-color: whitesmoke;font-size: 12px;" />
                                    </div>
                                </h:form>

                            </fieldset>

                            <br/>

                            <h:panelGroup >
                                <h:form id="frmListaComissao">

                                    <br></br>  

                                    <p:dataTable style="font-size: 14px; width: 1180px" value="#{comissionadoMB.comissionados}" var="pr" emptyMessage="Nenhum comissionado cadastrado!"
                                                 selectionMode="single" selection="#{comissionadoMB.comissionado}" rowKey="#{pr.id}">
                                            <p:ajax event="rowSelect" update=":tudoComissao" listener="#{comissionadoMB.editar()}" />

                                            <p:column headerText="Comissionado">
                                                <h:outputText value="#{pr.nome}" style="font-size: 12px;"/>
                                        </p:column>

                                        <p:column headerText="Empresa">
                                            <h:outputText value="#{pr.empresa}" style="font-size: 12px;"/>
                                        </p:column>



                                        <p:column headerText="Contato">
                                            <h:outputText value="#{pr.contato}" style="font-size: 12px;"/>
                                        </p:column>

                                        <p:column headerText="Valor">
                                            <h:outputText value="#{pr.valor}" style="font-size: 12px;"/>
                                        </p:column>
                                    </p:dataTable>





                                </h:form>
                            </h:panelGroup>

                        </h:panelGroup>




                    </p:dialog>

                    <!-- Dlg Comissionados a adicionar-->

                    <p:dialog widgetVar="dlgComissionado"  showEffect="explode" hideEffect="explode" draggable="true" closable="false" resizable="false"
                              header="Comissionados do orçamento.:" modal="true" appendTo="@(body)" width="530px" height="700" >




                        <h:form id="frmCo">

                            <p:panel  header="Comissionados:">

                                <p:separator />

                                <p:dataTable id="frmcOm" style="font-size: 14px; width: 453px" value="#{comissionadoMB.comissionados}" 
                                             var="com" emptyMessage="Nenhum comissionado cadastrado!" paginator="true" rows="3"
                                             selectionMode="single" selection="#{comissionadoMB.comissionado}" rowKey="#{com.id}">


                                        <p:column headerText="Nome" filterBy="#{com.nome}" >
                                            <h:outputText value="#{com.nome}" style="font-size: 12px" />
                                        </p:column>

                                        <p:column headerText="Percentual" >
                                            <h:outputText value="#{com.valor}" style="font-size: 12px" />
                                        </p:column>

                                        <p:column headerText="Opções" width="100">



                                            <p:commandButton icon="ui-icon-plus" 
                                                             actionListener="#{orcamentoMB.adicionarComissionado(com)}"

                                                             update=":tabelas :frmItensCom:tbCom :txtVtt" 
                                                             >
                                            </p:commandButton> 

                                        </p:column>


                                    </p:dataTable>

                                </p:panel>

                            </h:form>

                            <br/><br/><br/><br/><br/>

                            <h:form id="frmItensCom">

                                <p:panel  header="Quadro de comissão:">

                                    <p:separator />

                                    <p:dataTable value="#{orcamentoMB.orcamento.itensC}"  
                                                 paginator="true" rows="5"  id="tbCom"
                                                 var="cs" style="font-size: 14px;width: 453px" 
                                                 emptyMessage="Sem retorno!" >


                                        <p:column headerText="Nome" style="font-size: 15px;" >
                                        <h:outputText value="#{cs.comissionado.nome}"/>  
                                    </p:column>

                                    <p:column headerText="Valor" style="font-size: 15px;" >
                                        <h:outputText value="#{cs.comissionado.valor}"/> 
                                    </p:column>


                                    <p:column headerText="Excluir" width="60">

                                        <p:commandButton icon="ui-icon-close" 
                                                         actionListener="#{orcamentoMB.removerComissionado(cs)}" 
                                                         update=":tudo :txtVtt"
                                                         >
                                            <p:confirm  header="CONFIRMAR" 
                                                        message="Isto não removerá o ítem do orçamento, ok?" icon="pi pi-info-circle"/>
                                        </p:commandButton>
                                    </p:column>


                                </p:dataTable>

                                <p:confirmDialog global="true" showEffect="fade" hideEffect="fade" responsive="true" width="350">
                                    <p:commandButton value="Não" type="button" styleClass="ui-confirmdialog-no ui-button-flat"/>
                                    <p:commandButton value="Sim" type="button" styleClass="ui-confirmdialog-yes" />
                                </p:confirmDialog>



                            </p:panel>

                            <div style="position: absolute;left: 427px;top: 18px; text-align: left;">

                                <p:commandButton value="Fechar" actionListener="#{orcamentoMB.salvando()}"  update=":tabelas :tudo" 
                                                 oncomplete="PF('dlgComissionado').hide();" style="height:30px;background-color: whitesmoke;font-size: 13px;"/>

                            </div>

                        </h:form>



                    </p:dialog>


                    <!-- Dlg Custo Variavel-->


                    <p:dialog widgetVar="dlgCustoVariavel"  showEffect="explode" hideEffect="explode" draggable="true" closable="false" resizable="false"
                              header="Custos adicionais.:" modal="true" appendTo="@(body)" width="450px" height="600" >



                        <h:form id="frmCv">

                            <p:panel  header="Custos:">

                                <p:separator />

                                <p:dataTable id="tbCv" style="font-size: 14px; width: 370px" value="#{custovariavelMB.custoV}" 
                                             var="custovariavel" emptyMessage="Nenhum comissionado cadastrado!" paginator="true" rows="3"
                                             selectionMode="single" selection="#{custovariavelMB.custovariavel}" rowKey="#{custovariavel.id}">


                                        <p:column headerText="Descrição" >
                                            <h:outputText value="#{custovariavel.descricao}" style="font-size: 12px" />
                                        </p:column>

                                        <p:column headerText="Valor" >
                                            <h:outputText value="#{custovariavel.valor}" style="font-size: 12px" />
                                        </p:column>

                                        <p:column headerText="Fornecedor" >
                                            <h:outputText value="#{custovariavel.fornecedor.empresa}" style="font-size: 12px" />
                                        </p:column>    

                                        <p:column headerText="Opções" width="100">



                                            <p:commandButton icon="ui-icon-plus" 
                                                             actionListener="#{orcamentoMB.adicionarCustoVariavel(custovariavel)}"

                                                             update=":tabelas :frmItensCv:tbCv :txtVtt" 
                                                             >
                                            </p:commandButton> <!-- ao criar modelo novo esta apagando os modelos adicionados-->

                                        </p:column>


                                    </p:dataTable>

                                </p:panel>

                            </h:form>



                            <h:form id="frmItensCv">

                                <br/><br/><br/><br/>
                                <p:panel  header="Tabela de Custos:">

                                    <p:separator />

                                    <p:dataTable value="#{orcamentoMB.orcamento.itensCustoVariavel}"  
                                                 paginator="true" rows="5"  id="tbCv"
                                                 var="cva" style="font-size: 14px;width: 370px" 
                                                 emptyMessage="Sem retorno!" >


                                        <p:column headerText="Nome" style="font-size: 15px;" >
                                        <h:outputText value="#{cva.custovariavel.descricao}"/>  
                                    </p:column>

                                    <p:column headerText="Valor" style="font-size: 15px;" >
                                        <h:outputText value="#{cva.custovariavel.valor}"/> 
                                    </p:column>

                                    <p:column headerText="Fornecedor" style="font-size: 15px;" >
                                        <h:outputText value="#{cva.custovariavel.fornecedor.empresa}"/> 
                                    </p:column>    


                                    <p:column headerText="Excluir" width="60">

                                        <p:commandButton icon="ui-icon-close" 
                                                         actionListener="#{orcamentoMB.removerCustoVariavel(cva)}"
                                                         update=":tudo"
                                                         >
                                            <p:confirm  header="CONFIRMAR" 
                                                        message="Isto não removerá o ítem do orçamento, ok?" icon="pi pi-info-circle"/>
                                        </p:commandButton>

                                    </p:column>


                                </p:dataTable>

                                <p:confirmDialog global="true" showEffect="fade" hideEffect="fade" responsive="true" width="350">
                                    <p:commandButton value="Não" type="button" styleClass="ui-confirmdialog-no ui-button-flat"/>
                                    <p:commandButton value="Sim" type="button" styleClass="ui-confirmdialog-yes" />
                                </p:confirmDialog>



                            </p:panel>


                            <div style="position: absolute;left: 350px;top: 18px; text-align: left;">

                                <p:commandButton value="Fechar" actionListener="#{orcamentoMB.salvando()}"  update=":tabelas :tudo" 
                                                 oncomplete="PF('dlgCustoVariavel').hide();" style="height:30px;background-color: whitesmoke;font-size: 13px;"/>

                            </div>

                        </h:form>





                    </p:dialog>




                    <!--Este Dialog é para criar os custos variáveis-->




                    <p:dialog widgetVar="dlgCv"  showEffect="explode" hideEffect="explode" draggable="true" closable="true" resizable="false"
                              header="Custos Variáveis.:" modal="true" appendTo="@(body)" width="1200px" height="500" >

                        <h:form id="frmCustosVariaveis">

                            <div style="position:absolute;left: 30px;top:20px">
                                    <p>Descrição da despesa:</p>
                                    <p:inputTextarea value="#{custovariavelMB.custovariavel.descricao}" 
                                                     rows="3" cols="15"/>
                                </div>


                                <div style="position:absolute;left: 280px;top:20px">
                                    <p>Valor:</p>
                                    <p><p:inputText value="#{custovariavelMB.custovariavel.valor}"  /></p>
                                </div>

                                <div style="position:absolute;left: 30px;top:300px">





                                </div>


                                <div style="position:absolute;left: 30px;top:200px">
                                    <div style="position:absolute;left: 10px;top:35px">
                                        <p>Descrição do serviço:</p>
                                        <p:inputTextarea value="#{custovariavelMB.custovariavel.descricaoServ}" rows="3" cols="15" />

                                    </div>


                                    <div style="position:absolute;left: 270px;top:80px">
                                        <p >Valor cobrado:</p>
                                        <p><p:inputText value="#{custovariavelMB.custovariavel.valorcobrado}" /></p>
                                    </div>


                                    <div style="position:absolute;left: 600px;top:80px">

                                        <p>Data do pgto:</p>
                                        <p><p:calendar value="#{custovariavelMB.custovariavel.datapgto}" placeholder="Data" 
                                                       mask="true" size="10" pattern="dd/MM/yyyy" validatorMessage="Data inválida" 
                                                       showOn="button" /></p>
                                    </div>



                                    <div style="position:absolute;left: 10px;top:200px">
                                        <p><p:selectOneMenu value="#{custovariavelMB.custovariavel.fornecedor}">
                                                <f:selectItem itemLabel="Fornecedor" itemValue="#{null}" />
                                                <f:selectItems value="#{custovariavelMB.arrayFornecedor}" 
                                                               var="x" itemLabel="#{x.empresa}" itemValue="#{x}" >
                                                </f:selectItems>

                                            </p:selectOneMenu></p>



                                    </div>

                                    <div style="position:absolute;left: 270px;top:200px">
                                        <p><p:selectOneMenu value="#{custovariavelMB.custovariavel.acao}" >
                                                <f:selectItem itemLabel="Ação" itemValue="Ação" />
                                                <f:selectItem itemLabel="Lançar no contas a pagar" itemValue="Lançar no contas a pagar" />
                                                <f:selectItem itemLabel="Sem cobranças" itemValue="Sem cobranças" />
                                                <p:ajax process="@this" />
                                            </p:selectOneMenu></p>
                                    </div>







                                </div>



                                <div style="position:absolute;left: 930px;top:450px">
                                    <p:commandButton icon="ui-icon-plus" value="Novo" actionListener="#{custovariavelMB.novo()}" 
                                                     update=":frmCustosVariaveis" style="height:30px;background-color: whitesmoke;font-size: 12px;" />
                                <p:commandButton icon="ui-icon-trash" value="Excluir" actionListener="#{orcamentoMB.excluirGeralCusto()}" 
                                                 update=":frmCustosVariaveis :frmCv:tbCv :frmCusToVitens" 
                                                 style="height:30px;background-color: whitesmoke;font-size: 12px;"/>
                                <p:commandButton icon="ui-icon-plus" value="Salvar" actionListener="#{custovariavelMB.salvar()}" 
                                                 update=":frmCustosVariaveis :frmCusToVitens :frmCv:tbCv" style="height:30px;background-color: whitesmoke;font-size: 12px;" />
                            </div>

                        </h:form>


                        <div style="position:absolute;left: 680px;top:20px">
                                <h:form id ="frmCusToVitens">
                                    <p:dataTable style="font-size: 14px; width: 480px" value="#{custovariavelMB.custoV}"
                                                 var="cv" emptyMessage="Nenhum comissionado cadastrado!" paginator="true" rows="3"
                                                 selectionMode="single" selection="#{custovariavelMB.custovariavel}" rowKey="#{cv.id}">
                                        <p:ajax event="rowSelect"  update=":frmCustosVariaveis" listener="#{custovariavelMB.editar()}"  />

                                        <p:column headerText="Descrição"  style="width: 300px">
                                            <h:outputText value="#{cv.descricao}" style="font-size: 12px" />
                                        </p:column>

                                        <p:column headerText="Valor" >
                                            <h:outputText value="#{cv.valor}" style="font-size: 12px" />
                                        </p:column>


                                    </p:dataTable>
                                </h:form>
                            </div>






                        </p:dialog>


                        <!-- Dlg novo Transporte-->


                        <p:dialog widgetVar="dlgTransporte"  showEffect="explode" hideEffect="explode" draggable="false" closable="false" resizable="false"
                                  header="Adicionar custos de Transporte.:" modal="true" appendTo="@(body)" width="630px" height="650" >

                            <h:form id="frmTransporte"> 

                                <p:panel  header="Custear transporte:">

                                    <p:separator />

                                    <p:dataTable  id="tbTransporte" value="#{transporteMB.transporteArray}" 
                                                  paginator="true" rows="3"
                                                  var="trs" style="font-size: 14px; width: 550px;" emptyMessage="Sem retorno!">



                                    <p:column headerText="Id" style="font-size: 12px;" >
                                        <h:outputText value="#{trs.id}"/>  
                                    </p:column>

                                    <p:column headerText="Custo de Transporte" style="font-size: 12px;" >
                                        <h:outputText value="#{trs.custotransporte}"/>  
                                    </p:column>

                                    <p:column headerText="Data do envio" >
                                        <h:outputText value="#{trs.dtransp}">
                                            <f:convertDateTime pattern="dd/MM/yyyy" />
                                        </h:outputText>
                                    </p:column>



                                    <p:column headerText="Custo de Correio" style="font-size: 12px;" >
                                        <h:outputText value="#{trs.custocorreio}"/>  
                                    </p:column>



                                    <p:column headerText="Data do envio1" >
                                        <h:outputText value="#{trs.dtenvio}">
                                            <f:convertDateTime pattern="dd/MM/yyyy" />
                                        </h:outputText>
                                    </p:column>

                                    <p:column headerText="+ Adc." width="40">



                                        <p:commandButton icon="ui-icon-plus" 
                                                         actionListener="#{orcamentoMB.adicionarTransporte(trs)}"
                                                         update=":tabelas :frmTransp:tbTransp :txtVtt"


                                                         >
                                        </p:commandButton> 

                                    </p:column>



                                </p:dataTable>
                                <br/>

                            </p:panel>

                        </h:form>


                        <br/><br/>
                        <h:form id="frmTransp">

                            <p:panel  header="Compor Orçamento: - Transportes -">

                                <p:separator />

                                <p:dataTable  id="tbTransp" value="#{orcamentoMB.orcamento.itensT}" 
                                              paginator ="true" rows="5"
                                              var="otrs" style="font-size: 14px; width: 550px;" emptyMessage="Sem retorno!">



                                    <p:column headerText="Id" style="font-size: 12px;" width="10" >
                                        <h:outputText value="#{otrs.id}"/>  
                                    </p:column>

                                    <p:column headerText="Custo de Transporte" style="font-size: 12px;" >
                                        <h:outputText value="#{otrs.transporte.custotransporte}"/>  
                                    </p:column>

                                    <p:column headerText="Data do envio" >
                                        <h:outputText value="#{otrs.transporte.dtransp}">
                                            <f:convertDateTime pattern="dd/MM/yyyy" />
                                        </h:outputText>
                                    </p:column>



                                    <p:column headerText="Custo de Correio" style="font-size: 12px;" >
                                        <h:outputText value="#{otrs.transporte.custocorreio}"/>  
                                    </p:column>



                                    <p:column headerText="Data do envio" >
                                        <h:outputText value="#{otrs.transporte.dtenvio}">
                                            <f:convertDateTime pattern="dd/MM/yyyy" />
                                        </h:outputText>
                                    </p:column>

                                    <p:column headerText="Remover" width="50">



                                        <p:commandButton icon="ui-icon-close" 
                                                         actionListener="#{orcamentoMB.removerTransporte(otrs)}"
                                                         update=":frmTransp:tbTransp :txtVtt"


                                                         >
                                        </p:commandButton> 

                                    </p:column>



                                </p:dataTable>

                                <div style="position: absolute;left: 528px;top: 18px; text-align: left;">

                                    <p:commandButton value="Fechar" actionListener="#{orcamentoMB.salvando()}"  update=":tabelas :tudo" 
                                                     oncomplete="PF('dlgTransporte').hide();" style="height:30px;background-color: whitesmoke;font-size: 13px;"/>

                                </div>
                            </p:panel>
                        </h:form>

                    </p:dialog>


                    <!-- Dlg Cad. de Transporte-->

                    <p:dialog widgetVar="dlgNt"  showEffect="explode" hideEffect="explode" draggable="false" closable="true" resizable="false"
                              header="Controle de Transportes.:" modal="true" appendTo="@(body)" width="630px" height="450" >

                        <h:form id="frmT">
                            <p>Custo de Transporte:</p>
                            <p><p:inputText value="#{transporteMB.transporte.custotransporte}"  class="valor" maxlength="13" 
                                            style="text-align: right" converter="br.com.uniondata.ValorConverter"/></p>

                                <div style="position: absolute;left: 400px; top: 8px;">
                                <p>Data de envio:</p>
                                <p><p:calendar value="#{transporteMB.transporte.dtransp}" mask="true" size="10" 
                                               pattern="dd/MM/yyyy" validatorMessage="Data inválida" showOn="button"  /></p>
                            </div>

                            <p>Custo de Correios:</p>
                            <p><p:inputText value="#{transporteMB.transporte.custocorreio}" class="valor" maxlength="13" 
                                            style="text-align: right" converter="br.com.uniondata.ValorConverter" /></p>

                                <div style="position: absolute;left: 400px; top: 100px;">
                                <p>Data de envio:</p>
                                <p><p:calendar value="#{transporteMB.transporte.dtenvio}" mask="true" size="10" 
                                               pattern="dd/MM/yyyy" validatorMessage="Data inválida" showOn="button"  /></p>
                            </div>



                            <div style="position: absolute;left: 30px;top: 430px; text-align: left" >


                                    <p:commandButton icon="ui-icon-plus" value="Novo" actionListener="#{transporteMB.novo()}"
                                                     update=":frmT" style="margin-right:10px;background-color: whitesmoke;font-size: 13px;"/>
                                <p:commandButton value="Salvar" actionListener="#{transporteMB.salvar()}" 
                                                 update=":frmT :frmTr:tbTransporte" style="margin-right:10px;background-color: whitesmoke;font-size: 13px;"/>
                                <p:commandButton icon="ui-icon-trash" value="Excluir" actionListener="#{transporteMB.excluir()}" 
                                                 update=":frmTr:tbTransporte :frmTransporte:tbTransporte :frmT" 
                                                 style="margin-right:10px;background-color: whitesmoke;font-size: 13px;"/>

                            </div>
                        </h:form>

                        <h:form id="frmTr">
                            <p:dataTable  id="tbTransporte" value="#{transporteMB.transporteArray}" 
                                          var="trs" style="font-size: 14px; width: 600px;" emptyMessage="Sem retorno!"
                                          paginator = "true" rows = "5"
                                          selectionMode="single" selection="#{transporteMB.transporte}" rowKey="#{trs.id}">
                                <p:ajax event="rowSelect" update=":frmT" listener="#{transporteMB.editar()}" />


                                <p:column headerText="Id" style="font-size: 12px;" >
                                    <h:outputText value="#{trs.id}"/>  
                                </p:column>

                                <p:column headerText="Custo de Transporte" style="font-size: 12px;" >
                                    <h:outputText value="#{trs.custotransporte}"/>  
                                </p:column>

                                <p:column headerText="Data do envio" >
                                    <h:outputText value="#{trs.dtransp}">
                                        <f:convertDateTime pattern="dd/MM/yyyy" />
                                    </h:outputText>
                                </p:column>



                                <p:column headerText="Custo de Correio" style="font-size: 12px;" >
                                    <h:outputText value="#{trs.custocorreio}"/>  
                                </p:column>



                                <p:column headerText="Data do envio1" >
                                    <h:outputText value="#{trs.dtenvio}">
                                        <f:convertDateTime pattern="dd/MM/yyyy" />
                                    </h:outputText>
                                </p:column>


                            </p:dataTable>
                        </h:form>

                    </p:dialog>

                    <!-- Dlg Cad de entrega-->


                    <p:dialog widgetVar="dlgEntrega"  showEffect="explode" hideEffect="explode" draggable="false" closable="true" resizable="false"
                              header="Controle de Entregas.:" modal="true" appendTo="@(body)" width="550px" height="550" >


                        <h:panelGroup id="tudoE">

                            <h:form>  

                                <p:commandButton icon="ui-icon-plus" value="Novo" actionListener="#{entregaMB.novo()}" update=":tudoE" style="height:30px;background-color: whitesmoke;font-size: 12px;" />
                                <p:commandButton value="Salvar" actionListener="#{entregaMB.salvar()}" 
                                                 update=":tudoE :frmEntrega:tbEntregA :tabelas:tbTranspo :frmEnt:tbEnt" 
                                                 style="height:30px;background-color: whitesmoke;font-size: 12px;" />
                                <p:commandButton icon="ui-icon-trash" value="Excluir" actionListener="#{orcamentoMB.excluirGeralEntrega()}" 
                                                 update=":tudoE :dados :tabelas:tbTranspo :frmEntrega:tbEntregA :frmEnt:tbEnt" style="height:30px;background-color: whitesmoke;font-size: 12px;"/>

                                <br></br><br></br>


                                <div style="position:absolute; left: 20px;top: 100px;">
                                    <p>Prazo:</p>
                                    <p><p:inputText value="#{entregaMB.entrega.prazo}" 
                                                    placeholder="Entre com o nome completo"  size="10" />
                                    </p>
                                </div>

                                <div style="position:absolute; left: 300px;top: 100px;">
                                    <p>Despesa:</p>
                                    <p><p:inputText value="#{entregaMB.entrega.despesa}" size="15" class="valor" maxlength="13" 
                                                    style="text-align: right" converter="br.com.uniondata.ValorConverter"/>
                                        </p>
                                    </div>





                                    <div style="position: absolute; left: 20px; top: 200px">
                                        <p>Veículo</p>

                                        <p:selectOneMenu value="#{entregaMB.entrega.veiculo}" >
                                            <f:selectItem itemLabel="Não definido" itemValue="#{null}" />
                                            <f:selectItems value="#{veiculoMB.veiculos}" var="c" itemLabel="#{c.veiculo}" itemValue="#{c}"   />
                                            <p:ajax process="@this" />
                                        </p:selectOneMenu>
                                    </div>



                                    <div style="position: absolute; left: 300px; top: 200px">
                                        <p>Data:</p>
                                        <p><p:calendar value="#{entregaMB.entrega.dia}" mask="true" size="10" 
                                                       pattern="dd/MM/yyyy" validatorMessage="Data inválida" showOn="button"  /></p>
                                    </div>



                                </h:form>




                                <div style="position:absolute;left: 20px;top: 400px">
                                    <h:panelGroup >

                                        <h:form id="frmListaEntrega" >


                                            <p:dataTable style="font-size: 14px;width: 500px" value="#{entregaMB.entregaArray}" var="c" 
                                                         paginator = "true" rows = "3"    emptyMessage="Sem retorno!" selectionMode="single" selection="#{entregaMB.entrega}" rowKey="#{c.id}">
                                                <p:ajax event="rowSelect" update=":tudoE" listener="#{entregaMB.editar()}" />



                                                <p:column headerText="Data">
                                                    <h:outputText value="#{c.dia}" style="font-size: 12px;">
                                                    <f:convertDateTime pattern="dd/MM/yyyy" />
                                                </h:outputText>
                                            </p:column>

                                            <p:column headerText="Prazo">
                                                <h:outputText value="#{c.prazo}" style="font-size: 12px;"/>
                                            </p:column>

                                            <p:column headerText="Veículo">
                                                <h:outputText value="#{c.veiculo.veiculo}" style="font-size: 12px;"/>
                                            </p:column>

                                            <p:column headerText="Despesa">
                                                <h:outputText value="#{c.despesa}" style="font-size: 12px;" />
                                            </p:column>


                                        </p:dataTable>



                                    </h:form>

                                </h:panelGroup>

                            </div>

                        </h:panelGroup>



                    </p:dialog>

                    <!-- Dlg Custo de Entrega-->

                    <p:dialog widgetVar="dlgCustoEntrega"  showEffect="explode" hideEffect="explode" draggable="true" closable="false" resizable="false"
                              header="Adicionar custos de Entrega.:" modal="true" appendTo="@(body)" width="650px" height="600" >

                        <h:form id="frmEntrega">

                            <p:panel  header="Custear Entregas:">

                                <p:separator />

                                <p:dataTable  id="tbEntregA" value="#{entregaMB.entregaArray}" 
                                              paginator="true" rows="3"
                                              var="ent" style="font-size: 14px; width: 570px;" emptyMessage="Sem retorno!">



                                    <p:column headerText="Id" style="font-size: 12px;" >
                                        <h:outputText value="#{ent.id}"/>  
                                    </p:column>

                                    <p:column headerText="Data" style="font-size: 12px;" >
                                        <h:outputText value="#{ent.dia}">
                                            <f:convertDateTime pattern="dd/MM/yyyy" />
                                        </h:outputText>
                                    </p:column>

                                    <p:column headerText="Prazo de entrega" >
                                        <h:outputText value="#{ent.prazo}" />

                                    </p:column>



                                    <p:column headerText="Veículo" style="font-size: 12px;" >
                                        <h:outputText value="#{ent.veiculo.veiculo}"/>  
                                    </p:column>


                                    <p:column headerText="Veículo" style="font-size: 12px;" >
                                        <h:outputText value="#{ent.despesa}"/>  
                                    </p:column>



                                    <p:column headerText="+ Adc." width="40">



                                        <p:commandButton icon="ui-icon-plus" 
                                                         actionListener="#{orcamentoMB.adicionarEntrega(ent)}"
                                                         update=":tabelas :frmEnt:tbEnt :txtVtt"


                                                         >
                                        </p:commandButton> 

                                    </p:column>



                                </p:dataTable>
                                <br/>

                            </p:panel>

                        </h:form>


                        <br/><br/>
                        <h:form id="frmEnt">
                            <p:panel  header="Compor Orçamento: - Entregas - ">

                                <p:separator />
                                <p></p>
                                <p:dataTable  id="tbEnt" value="#{orcamentoMB.orcamento.itensE}" 
                                              paginator ="true" rows="3"
                                              var="entregas" style="font-size: 14px; width: 570px;" emptyMessage="Sem retorno!">



                                    <p:column headerText="Id" style="font-size: 12px;" width="10" >
                                        <h:outputText value="#{entregas.id}"/>  
                                    </p:column>

                                    <p:column headerText="Data" style="font-size: 12px;" >
                                        <h:outputText value="#{entregas.entrega.dia}">
                                            <f:convertDateTime pattern="dd/MM/yyyy" />
                                        </h:outputText> 
                                    </p:column>

                                    <p:column headerText="Prazo" >
                                        <h:outputText value="#{entregas.entrega.prazo}">

                                        </h:outputText>
                                    </p:column>



                                    <p:column headerText="Veículo" style="font-size: 12px;" >
                                        <h:outputText value="#{entregas.entrega.veiculo.veiculo}"/>  
                                    </p:column>

                                    <p:column headerText="Despesa" style="font-size: 12px;" >
                                        <h:outputText value="#{entregas.entrega.despesa}"/>  
                                    </p:column>

                                    <p:column headerText="Remover" width="50">



                                        <p:commandButton icon="ui-icon-close" 
                                                         actionListener="#{orcamentoMB.removerEntrega(entregas)}"
                                                         update=":frmEnt:tbEnt :txtVtt :tabelas:tbTranspo"


                                                         >
                                        </p:commandButton> 

                                    </p:column>



                                </p:dataTable>

                                <div style="position: absolute;left: 550px;top: 18px; text-align: left;">

                                    <p:commandButton value="Fechar" actionListener="#{orcamentoMB.salvando()}"  update=":tabelas :tudo" 
                                                     oncomplete="PF('dlgCustoEntrega').hide();" style="height:30px;background-color: whitesmoke;font-size: 13px;"/>

                                </div>
                            </p:panel>
                        </h:form>

                    </p:dialog>



                    <!-- Dlg Custo de equipe-->

                    <p:dialog widgetVar="dlgCustoEquipe"  showEffect="explode" hideEffect="explode" draggable="true" closable="false" resizable="false"
                              header="Adicionar custos de Equipe.:" modal="true" appendTo="@(body)" width="650px" height="600" >

                        <h:form id="tabelaCustoEquipe">
                            <p:panel  header="Equipes1:">

                                <p:separator />
                                <p:dataTable id="tbO" value="#{logequipeMB.listaEquipe}" paginator ="true" rows="3"
                                             var="equip" style="font-size: 14px; width: 570px;" emptyMessage="Sem retorno!" >



                                    <p:column headerText="Nome" style="font-size: 12px;" >
                                        <h:outputText value="#{equip.nome}"/>  
                                    </p:column>

                                    <p:column headerText="Valor da Equipe" style="font-size: 12px;" >
                                        <h:outputText value="#{equip.valor}"/>  
                                    </p:column>

                                    <p:column headerText="+ Adc." width="40">



                                        <p:commandButton icon="ui-icon-plus" 
                                                         actionListener="#{orcamentoMB.adicionarTime(equip)}"
                                                         update=":tabelaCustoEquipe :txtVtt :tabelas:tbEquipes :dados"


                                                         >
                                        </p:commandButton> 

                                    </p:column>




                                </p:dataTable>

                            </p:panel>


                            <br/><br/><br/>

                            <p:panel  header="Compor Orçamento: - Equipes - ">

                                <p:separator /> 

                                <p:dataTable  id="tbOrcTimes" value="#{orcamentoMB.orcamento.itensTime}" 
                                              paginator ="true" rows="3"
                                              var="time" style="font-size: 14px; width: 570px;" emptyMessage="Sem retorno!">



                                    <p:column headerText="Nome" style="font-size: 12px;" >
                                        <h:outputText value="#{time.logequipe.nome}" />

                                    </p:column>


                                    <p:column headerText="Valor" style="font-size: 12px;" >
                                        <h:outputText value="#{time.logequipe.valor}"/>  
                                    </p:column>

                                    <p:column headerText="Remover" width="50">

                                        <p:commandButton icon="ui-icon-close" 
                                                         actionListener="#{orcamentoMB.removerItemLogequipe(time)}" 
                                                         update=":tabelaCustoEquipe:tbOrcTimes :tabelas:tbEquipes :txtVtt :dados">
                                        </p:commandButton> 


                                    </p:column>



                                </p:dataTable>

                                <div style="position: absolute;left: 550px;top: 18px; text-align: left;">

                                    <p:commandButton value="Fechar" actionListener="#{orcamentoMB.salvando()}"   
                                                     oncomplete="PF('dlgCustoEquipe').hide();" 
                                                     style="height:30px;background-color: whitesmoke;font-size: 13px;"/>

                                </div>
                            </p:panel>
                        </h:form>

                    </p:dialog>


                    <!-- Dlg cad. de retirada-->


                    <p:dialog widgetVar="dlgRetirada"  showEffect="explode" hideEffect="explode" draggable="true" closable="false" resizable="false"
                              header="Configurar Retirada.:" modal="true" appendTo="@(body)" width="600px" height="600" >


                        <h:form id="frmOrcRetira">
                            <p:panel  header="Retirada:">

                                <p:separator />
                                <p:dataTable  value="#{logretiraMB.arrayLogretira}"  paginator="true" rows = "3"
                                              var="retira" style="font-size: 14px; width: 523px;" emptyMessage="Sem retorno!" >


                                    <p:column headerText="Data de retirada" >
                                        <h:outputText value="#{retira.dia}">
                                            <f:convertDateTime pattern="dd/MM/yyyy" />
                                        </h:outputText>
                                    </p:column>


                                    <p:column headerText="Prazo para retirar em dias" >
                                        <h:outputText value="#{retira.prazo}" style="font-size: 12px"/>
                                        </p:column>


                                        <p:column headerText="+ Adc." width="40">



                                            <p:commandButton icon="ui-icon-plus" 
                                                             actionListener="#{orcamentoMB.adicionarRetirada(retira)}"
                                                             update=":frmCretirar:tbCretirar :tabelas:tbOrcRetirando"


                                                             >
                                            </p:commandButton> 

                                        </p:column>




                                    </p:dataTable>
                                </p:panel>
                            </h:form>

                            <br/><br/><br/>
                            <h:form id="frmCretirar">
                                <p:panel  header="Compor Orçamento: - Retiradas - ">

                                    <p:separator />

                                    <p:dataTable  id="tbCretirar" value="#{orcamentoMB.orcamento.itensRetira}" 
                                                  paginator ="true" rows="3"
                                                  var="retirando" style="font-size: 14px; width: 523px;" emptyMessage="Sem retorno!">



                                    <p:column headerText="Data de retirada" >
                                        <h:outputText value="#{retirando.logretirada.dia}">
                                            <f:convertDateTime pattern="dd/MM/yyyy" />
                                        </h:outputText>
                                    </p:column>


                                    <p:column headerText="Prazo em dias" style="font-size: 12px;" >
                                        <h:outputText value="#{retirando.logretirada.prazo}"/>  
                                    </p:column>

                                    <p:column headerText="Remover" width="50">

                                        <p:commandButton icon="ui-icon-close" 
                                                         actionListener="#{orcamentoMB.removerItemRetirada(retirando)}" 
                                                         update=":frmCretirar:tbCretirar :tabelas:tbOrcRetirando">
                                        </p:commandButton> 


                                    </p:column>



                                </p:dataTable>

                                <div style="position: absolute;left: 500px;top: 18px; text-align: left;">

                                    <p:commandButton value="Fechar" actionListener="#{orcamentoMB.salvando()}"  update=":tabelas :tudo" 
                                                     oncomplete="PF('dlgRetirada').hide();" style="height:30px;background-color: whitesmoke;font-size: 13px;"/>

                                </div>
                            </p:panel>
                        </h:form>

                    </p:dialog>


                    <!-- Dlg Cad Retirada--> 

                    <p:dialog widgetVar="dlgCadRetirada"  showEffect="explode" hideEffect="explode" draggable="false" closable="true" resizable="false"
                              header="Cadastrar Retirada.:" modal="true" appendTo="@(body)" width="600px" height="600" >


                        <h:panelGroup id="tudoR">


                            <h:form id="frmEditar">


                                <div style="position: absolute;left: 20px;top: 50px; text-align: left;">
                                    <p>Data:</p>
                                    <p><p:calendar value="#{logretiraMB.logretirada.dia}" placeholder="Data" mask="true" size="10" 
                                                   pattern="dd/MM/yyyy" validatorMessage="Data inválida" showOn="button" /></p>  
                                </div>

                                <div style="position: absolute;left: 320px;top: 50px; text-align: left;">
                                    <p>Prazo para retirar:</p>

                                    <p:inputText value="#{logretiraMB.logretirada.prazo}"  size="20"/>

                                </div>




                                <br/>  <br/>

                                <p:messages><p:autoUpdate/></p:messages>


                                <div style="position: absolute;left: 30px;top: 500px; text-align: left;">
                                    <p:commandButton value="Excluir" actionListener="#{orcamentoMB.excluirGeralRetira()}"
                                                     update=":tudoR :frmOrcRetira :tabelas:tbOrcRetirando :dados" style="height:30px;background-color: whitesmoke;font-size: 13px;"/>
                                    <p:commandButton value="Salvar" actionListener="#{logretiraMB.salvar()}" 
                                                     update=":tudoR :frmOrcRetira" style="height:30px;background-color: whitesmoke;font-size: 13px;" />
                                    <p:commandButton value="Novo" actionListener="#{logretiraMB.novo()}" 
                                                     update=":tudoR" style="height:30px;background-color: whitesmoke;font-size: 13px;" />

                                </div>

                            </h:form>






                            <div style="position: absolute;left: 20px;top: 250px; text-align: left;">
                                <h:form id="frmRet">
                                    <p:panel id="pn1" header="Controle de Retiradas:">

                                        <p:separator />
                                        <p:dataTable  id="tbRet" style ="font-size: 14px; width: 520px" value="#{logretiraMB.arrayLogretira}" 
                                                      var="retira" emptyMessage="Sem retorno!" 
                                                      paginator="true" rows="3" selectionMode="single" selection="#{logretiraMB.logretirada}" rowKey="#{retira.id}">
                                                <p:ajax event="rowSelect" update=":tudoR" listener="#{logretiraMB.editar()}" />


                                                <p:column headerText="Data de retirada" >
                                                    <h:outputText value="#{retira.dia}">
                                                        <f:convertDateTime pattern="dd/MM/yyyy" />
                                                    </h:outputText>
                                                </p:column>


                                                <p:column headerText="Prazo para retirar em dias" >
                                                    <h:outputText value="#{retira.prazo}" style="font-size: 12px"/>
                                                </p:column>





                                            </p:dataTable>
                                        </p:panel>

                                    </h:form>
                                </div>


                            </h:panelGroup>


                        </p:dialog>



                    </h:panelGroup>



                    <script type="text/javascript">$(".valor").maskMoney({allowNegative: true, thousands: '.', decimal: ',', affixesStay: false});</script>

                </h:body>

            </ui:define>

        </ui:composition>                    